from flask import Flask, request, redirect, url_for, json, render_template, jsonify, send_from_directory
from lib.pdf import PDF

from DocumentUnderstanding import DocumentUnderstanding as DU
import json
import os
import sys
import pprint

app = Flask(__name__)
app.debug = True
pp = pprint.PrettyPrinter(depth=6)
port = int(os.getenv('VCAP_APP_PORT', 8080))

json_file = [{'content': ' Samsung is not liable for performance issues or incompatibilities caused by edited registry settings or modified operating system software. Attempting to customise the operating system may cause your device or applications to work improperly. You can upgrade your device s software by accessing the Samsung website www.samsung.com . Software, audio, wallpapers, and images provided in this device are licensed for limited use between Samsung and their respective owners. Extracting and using these materials for commercial or other purposes is an infringement of copyright laws. Samsung is not liable for such copyright infringement by users. Please keep this manual for future reference. Instructional icons Before you start, familiarise yourself with the icons used in this manual Warning situations that could cause injury to yourself or others Caution situations that could cause damage to your device or other equipment Note notes, usage tips, or additional information Refer to pages with related information for example p. 12 represents refer to page 12 Followed by the order of options or menus you must select to perform a step for example In the application list, select Settings About device represents Settings, followed by About device Using this manual 3 3 5 6 Device layout Front view 1 2 3 4 Number 1 2 3 4 5 6 Function Front camera lens Light sensor Speaker Multifunction jack Touch screen Microphone Assembling 12 ', 'range': {'to': 11, 'from': 2}, 'title': u'Using this manual', 'ref': {'S': '/GoTo', 'D': 'p2', 'NewWindow': 'True'}, 'level': 1}, {'content': '3 5 6 Device layout Front view 1 2 3 4 Number 1 2 3 4 5 6 Function Front camera lens Light sensor Speaker Multifunction jack Touch screen Microphone Assembling 12 For optimal use of the touch screen, remove the screen protection film before using your device. Your touch screen has a layer that detects small electrical charges emitted by the human body. For best performance, tap the touch screen with your fingertip. The touch screen will not react to touches from sharp objects, such as a stylus or pen. Control your touch screen with the following actions Tap Touch once to select or launch a menu, option, or application. Tap and hold Tap an item and hold it for more than 2 seconds. Drag Tap an item and move it to a new location. Getting started 22 manual Warning situations that could cause injury to yourself or others Caution situations that could cause damage to your device or other equipment Note notes, usage tips, or additional information Refer to pages with related information for example p. 12 represents refer to page 12 Followed by the order of options or menus you must select to perform a step for example In the application list, select Settings About device represents Settings, followed by About device Using this manual 3 3 5 6 Device layout Front view 1 2 3 4 Number 1 2 3 4 5 6 Function Front camera lens Light sensor Speaker Multifunction jack Touch screen Microphone Assembling 12 ', 'range': {'to': 21, 'from': 11}, 'title': u'Assembling', 'ref': {'S': '/GoTo', 'D': 'p11', 'NewWindow': 'True'}, 'level': 1}, {'content': ' For optimal use of the touch screen, remove the screen protection film before using your device. Your touch screen has a layer that detects small electrical charges emitted by the human body. For best performance, tap the touch screen with your fingertip. The touch screen will not react to touches from sharp objects, such as a stylus or pen. Control your touch screen with the following actions Tap Touch once to select or launch a menu, option, or application. Tap and hold Tap an item and hold it for more than 2 seconds. Drag Tap an item and move it to a new location. Getting started 22 Number 3 4 5 6 7 8 9 . Function Move backwards or forwards to webpages in history. Reload the current webpage. While the device is loading webpages, this icon changes to Enter a web address or a keyword. Access web browser options. View your bookmarks, saved pages, and recent Internet history. Activate the URL field. Bookmark the current webpage. or select Forward. While browsing a webpage, access the following options To zoom in or out, place two fingers on the screen and slowly spread them apart or pinch them together. To return to the original size, double tap the screen. To reload the current webpage, select To move backwards or forwards to webpages in history, select To open a new window, select To open a new window without saving your browsing data, select To bookmark the current webpage, select bookmark. To send a web address to others, select To search for text on a webpage, select To switch to the desktop view, select desktop site. Share page. Find on page. New incognito tab. New tab. Refresh. Add Request Web and GPS based services 40 ', 'range': {'to': 39, 'from': 21}, 'title': u'Getting started', 'ref': {'S': '/GoTo', 'D': 'p21', 'NewWindow': 'True'}, 'level': 1}, {'content': 'Number 3 4 5 6 7 8 9 . Function Move backwards or forwards to webpages in history. Reload the current webpage. While the device is loading webpages, this icon changes to Enter a web address or a keyword. Access web browser options. View your bookmarks, saved pages, and recent Internet history. Activate the URL field. Bookmark the current webpage. or select Forward. While browsing a webpage, access the following options To zoom in or out, place two fingers on the screen and slowly spread them apart or pinch them together. To return to the original size, double tap the screen. To reload the current webpage, select To move backwards or forwards to webpages in history, select To open a new window, select To open a new window without saving your browsing data, select To bookmark the current webpage, select bookmark. To send a web address to others, select To search for text on a webpage, select To switch to the desktop view, select desktop site. Share page. Find on page. New incognito tab. New tab. Refresh. Add Request Web and GPS based services 40 Answer a call 1 During an incoming call, select finger outside of the large circle. and then drag your To mute the ringtone, press the Volume key. Select End call to end the call. 2 Reject a call During an incoming call, select outside of the large circle. To send a message to the caller when you reject a call, drag the reject message bar at the bottom of the screen upwards. You can select one of several preset messages or create your own messages. p. 57 and then drag your finger Make an international call 1 In the application list, select tap and hold 2 Enter a complete number country code, area code, and phone number . 3 Select to insert the character. Call to dial the number. Phone Keypad, and then Communication 51 ', 'range': {'to': 50, 'from': 39}, 'title': u'Web and GPS-based services', 'ref': {'S': '/GoTo', 'D': 'p39', 'NewWindow': 'True'}, 'level': 1}, {'content': ' Answer a call 1 During an incoming call, select finger outside of the large circle. and then drag your To mute the ringtone, press the Volume key. Select End call to end the call. 2 Reject a call During an incoming call, select outside of the large circle. To send a message to the caller when you reject a call, drag the reject message bar at the bottom of the screen upwards. You can select one of several preset messages or create your own messages. p. 57 and then drag your finger Make an international call 1 In the application list, select tap and hold 2 Enter a complete number country code, area code, and phone number . 3 Select to insert the character. Call to dial the number. Phone Keypad, and then Communication 51 Number 1 2 3 4 5 6 Change the shooting mode. p. 70 Select the length of the delay before the camera takes a photo. Adjust the exposure value to change Function Use camera shortcuts. photo of yourself. Switch to the front camera to take a the brightness. Apply a special effect. You can add or remove shortcuts to frequently used options. p. 75 Change the camera settings. View the storage location. Switch to the camcorder. Take a photo. View photos you have taken. 3 to take a photo. Select The photo is saved automatically. After taking a photo, select the image viewer to view it. To view more photos, scroll left or right. To zoom in or out, place two fingers on the screen and slowly spread them apart or pinch them together. To return to the original size, double tap the screen. To send the photo to others, select . Entertainment 69 ernational call 1 In the application list, select tap and hold 2 Enter a complete number country code, area code, and phone number . 3 Select to insert the character. Call to dial the number. Phone Keypad, and then Communication 51 ', 'range': {'to': 68, 'from': 50}, 'title': u'Communication', 'ref': {'S': '/GoTo', 'D': 'p50', 'NewWindow': 'True'}, 'level': 1}, {'content': 'Number 1 2 3 4 5 6 Change the shooting mode. p. 70 Select the length of the delay before the camera takes a photo. Adjust the exposure value to change Function Use camera shortcuts. photo of yourself. Switch to the front camera to take a the brightness. Apply a special effect. You can add or remove shortcuts to frequently used options. p. 75 Change the camera settings. View the storage location. Switch to the camcorder. Take a photo. View photos you have taken. 3 to take a photo. Select The photo is saved automatically. After taking a photo, select the image viewer to view it. To view more photos, scroll left or right. To zoom in or out, place two fingers on the screen and slowly spread them apart or pinch them together. To return to the original size, double tap the screen. To send the photo to others, select . Entertainment 69 Set a speed dial number 1 In the application list, select 2 Select 3 Select a location number Speed dial setting. a contact. Contacts Contacts. You can call a speed dial number by tapping and holding the location number on the dialling screen. Create your namecard 1 In the application list, select 2 Select your name at the top of the contact list. 3 Select 4 Enter your personal details and select Save. . Contacts Contacts. You can send your namecard to others by selecting Share namecard via. Create a group of contacts By creating groups of contacts, you can manage multiple contacts and send a message to an entire group. 1 2 3 4 . In the application list, select Enter a name and customise the settings for the group. Add members to the group. Select Contacts Groups Save. Personal information 89 ode, area code, and phone number . 3 Select to insert the character. Call to dial the number. Phone Keypad, and then Communication 51 ', 'range': {'to': 88, 'from': 68}, 'title': u'Entertainment', 'ref': {'S': '/GoTo', 'D': 'p68', 'NewWindow': 'True'}, 'level': 1}, {'content': ' Set a speed dial number 1 In the application list, select 2 Select 3 Select a location number Speed dial setting. a contact. Contacts Contacts. You can call a speed dial number by tapping and holding the location number on the dialling screen. Create your namecard 1 In the application list, select 2 Select your name at the top of the contact list. 3 Select 4 Enter your personal details and select Save. . Contacts Contacts. You can send your namecard to others by selecting Share namecard via. Create a group of contacts By creating groups of contacts, you can manage multiple contacts and send a message to an entire group. 1 2 3 4 . In the application list, select Enter a name and customise the settings for the group. Add members to the group. Select Contacts Groups Save. Personal information 89 Connect as a media device You can connect your device to a computer and access media files stored on your device. 1 2 3 4 Connect as a camera device You can connect your device to a computer as a camera and access files in your device. Connect your device to a computer with a USB cable. Tap the right bottom of the screen to open the notifications panel. Select MTP . Transfer files between your device and the computer. Connected as a media device Media device Use this USB connection mode when your computer does not support the media transfer protocol MTP or does not have the USB driver for your device installed. 1 2 3 4 Connect your device to a computer with a USB cable. Tap the right bottom of the screen to open the notifications panel. Select Transfer files between your device and the computer. Connected as a media device Camera PTP . Connectivity 95 Save. Personal information 89 ode, area code, and phone number . 3 Select to insert the character. Call to dial the number. Phone Keypad, and then Communication 51 ', 'range': {'to': 94, 'from': 88}, 'title': u'Personal information', 'ref': {'S': '/GoTo', 'D': 'p88', 'NewWindow': 'True'}, 'level': 1}, {'content': ' Connect as a media device You can connect your device to a computer and access media files stored on your device. 1 2 3 4 Connect as a camera device You can connect your device to a computer as a camera and access files in your device. Connect your device to a computer with a USB cable. Tap the right bottom of the screen to open the notifications panel. Select MTP . Transfer files between your device and the computer. Connected as a media device Media device Use this USB connection mode when your computer does not support the media transfer protocol MTP or does not have the USB driver for your device installed. 1 2 3 4 Connect your device to a computer with a USB cable. Tap the right bottom of the screen to open the notifications panel. Select Transfer files between your device and the computer. Connected as a media device Camera PTP . Connectivity 95 Calculator Learn to perform calculations with your device. Perform a calculation 1 In the application list, select 2 Use the keys on the screen to perform basic calculations. View the calculation history 1 In the application list, select 2 Perform a calculation. 3 Select The calculation history appears. to hide the calculator keypad. Calculator. Calculator. Downloads Learn to manage logs of files you have downloaded from the web or email. 1 2 3 In the application list, select Select a download category. To open a downloaded file, select the log. To delete a log, select the tick box and select Downloads. . Tools 110 ice to a computer with a USB cable. Tap the right bottom of the screen to open the notifications panel. Select Transfer files between your device and the computer. Connected as a media device Camera PTP . Connectivity 95 Save. Personal information 89 ode, area code, and phone number . 3 Select to insert the character. Call to dial the number. Phone Keypad, and then Communication 51 ', 'range': {'to': 109, 'from': 94}, 'title': u'Connectivity', 'ref': {'S': '/GoTo', 'D': 'p94', 'NewWindow': 'True'}, 'level': 1}, {'content': 'Calculator Learn to perform calculations with your device. Perform a calculation 1 In the application list, select 2 Use the keys on the screen to perform basic calculations. View the calculation history 1 In the application list, select 2 Perform a calculation. 3 Select The calculation history appears. to hide the calculator keypad. Calculator. Calculator. Downloads Learn to manage logs of files you have downloaded from the web or email. 1 2 3 In the application list, select Select a download category. To open a downloaded file, select the log. To delete a log, select the tick box and select Downloads. . Tools 110 To use more options, select . Set to use data connections when you are Data roaming roaming. Restrict background data in the background while using a mobile network. Show Wi Fi usage Set to show your data usage via Wi Fi. Set to disable synchronisation More... Change the settings to control connections with other devices or networks. Flight mode Activate Flight mode to disable all wireless functions on your device. You can use only non network features. Kies via Wi Fi Connect your device to Samsung Kies via Wi Fi. VPN Set up and manage virtual private networks VPNs . Tethering and portable hotspot USB tethering by making a USB connection with a computer. Portable Wi Fi hotspot access point for other devices. Bluetooth tethering feature to share your mobile network with computers via Bluetooth. Help View information about using the tethering features Activate the Bluetooth tethering Set to use your device as a wireless modem Set to use your device as a wireless Settings 117 cted as a media device Camera PTP . Connectivity 95 Save. Personal information 89 ode, area code, and phone number . 3 Select to insert the character. Call to dial the number. Phone Keypad, and then Communication 51 ', 'range': {'to': 116, 'from': 109}, 'title': u'Tools', 'ref': {'S': '/GoTo', 'D': 'p109', 'NewWindow': 'True'}, 'level': 1}, {'content': 'To use more options, select . Set to use data connections when you are Data roaming roaming. Restrict background data in the background while using a mobile network. Show Wi Fi usage Set to show your data usage via Wi Fi. Set to disable synchronisation More... Change the settings to control connections with other devices or networks. Flight mode Activate Flight mode to disable all wireless functions on your device. You can use only non network features. Kies via Wi Fi Connect your device to Samsung Kies via Wi Fi. VPN Set up and manage virtual private networks VPNs . Tethering and portable hotspot USB tethering by making a USB connection with a computer. Portable Wi Fi hotspot access point for other devices. Bluetooth tethering feature to share your mobile network with computers via Bluetooth. Help View information about using the tethering features Activate the Bluetooth tethering Set to use your device as a wireless modem Set to use your device as a wireless Settings 117 The touch screen responds slowly or improperly If your device has a touch screen and the touch screen is not responding properly, try the following Remove any protective covers from the touch screen. Protective covers may prevent the device from recognising your inputs and are not recommended for touch screen devices. Ensure that your hands are clean and dry when tapping the touch screen. Restart your device to clear any temporary software bugs. Ensure that your device s software is upgraded to the latest version. If the touch screen is scratched or damaged, take your device to a Samsung Service Centre. Your device freezes or has fatal errors If your device freezes or hangs, you may need to close applications or reset the device to regain functionality. If your device is still responsive and an application is frozen, close the application with the task manager. If your device is frozen and unresponsive, press and hold the Power key for 8 10 seconds. If this problem persists, perform a factory data reset. In the application list, select Settings Back up and reset Factory data reset Reset device Erase everything. Calls are being dropped When you are in areas with weak signals or poor reception, you may lose your connection to the network. Move to another area and try again. Troubleshooting 130 ', 'range': {'to': 129, 'from': 116}, 'title': u'Settings', 'ref': {'S': '/GoTo', 'D': 'p116', 'NewWindow': 'True'}, 'level': 1}, {'content': 'The touch screen responds slowly or improperly If your device has a touch screen and the touch screen is not responding properly, try the following Remove any protective covers from the touch screen. Protective covers may prevent the device from recognising your inputs and are not recommended for touch screen devices. Ensure that your hands are clean and dry when tapping the touch screen. Restart your device to clear any temporary software bugs. Ensure that your device s software is upgraded to the latest version. If the touch screen is scratched or damaged, take your device to a Samsung Service Centre. Your device freezes or has fatal errors If your device freezes or hangs, you may need to close applications or reset the device to regain functionality. If your device is still responsive and an application is frozen, close the application with the task manager. If your device is frozen and unresponsive, press and hold the Power key for 8 10 seconds. If this problem persists, perform a factory data reset. In the application list, select Settings Back up and reset Factory data reset Reset device Erase everything. Calls are being dropped When you are in areas with weak signals or poor reception, you may lose your connection to the network. Move to another area and try again. Troubleshooting 130 Protect the device and chargers from damage Avoid exposing your device to very cold or very hot temperatures. Extreme temperatures can damage the device and reduce the charging capacity and life of your device and batteries. Never use a damaged charger. Caution Follow all safety warnings and regulations when using your device in restricted areas Do not use your device near other electronic devices Most electronic devices use radio frequency signals. Your device may interfere with other electronic devices. Do not use your device near a pacemaker Avoid using your device within a 15 cm range of a pacemaker, if possible, as your device can interfere with the pacemaker. To minimise possible interference with a pacemaker, use your device only on the side of your body that is opposite the pacemaker. Do not use your device in a hospital or near medical equipment that can be interfered with by radio frequency If you use medical equipment, contact the equipment manufacturer before using your device to determine whether or not the equipment will be affected by radio frequencies emitted by the device. If you use a hearing aid, contact the manufacturer for information about radio interference The radio frequency emitted by your device may interfere with some hearing aids. Before using your device, contact the manufacturer to determine whether or not your hearing aid will be affected by radio frequencies emitted by the device. Turn off the device in potentially explosive environments Always comply with regulations, instructions and signs in potentially explosive environments. Do not use your device at refuelling points petrol stations , near fuels or chemicals, or in blasting areas. Do not store or carry flammable liquids, gases, or explosive materials in the same compartment as the device, its parts, or accessories. Safety information 135 ', 'range': {'to': 134, 'from': 129}, 'title': u'Troubleshooting', 'ref': {'S': '/GoTo', 'D': 'p129', 'NewWindow': 'True'}, 'level': 1}, {'content': 'Protect the device and chargers from damage Avoid exposing your device to very cold or very hot temperatures. Extreme temperatures can damage the device and reduce the charging capacity and life of your device and batteries. Never use a damaged charger. Caution Follow all safety warnings and regulations when using your device in restricted areas Do not use your device near other electronic devices Most electronic devices use radio frequency signals. Your device may interfere with other electronic devices. Do not use your device near a pacemaker Avoid using your device within a 15 cm range of a pacemaker, if possible, as your device can interfere with the pacemaker. To minimise possible interference with a pacemaker, use your device only on the side of your body that is opposite the pacemaker. Do not use your device in a hospital or near medical equipment that can be interfered with by radio frequency If you use medical equipment, contact the equipment manufacturer before using your device to determine whether or not the equipment will be affected by radio frequencies emitted by the device. If you use a hearing aid, contact the manufacturer for information about radio interference The radio frequency emitted by your device may interfere with some hearing aids. Before using your device, contact the manufacturer to determine whether or not your hearing aid will be affected by radio frequencies emitted by the device. Turn off the device in potentially explosive environments Always comply with regulations, instructions and signs in potentially explosive environments. Do not use your device at refuelling points petrol stations , near fuels or chemicals, or in blasting areas. Do not store or carry flammable liquids, gases, or explosive materials in the same compartment as the device, its parts, or accessories. Safety information 135 file manager 111 find my mobile 36 flight mode 21 gallery 78 Google 67 Google Latitude 43 Google Mail 62 Google Maps 44 Google Messenger 67 Google Talk 66 home screen adding panels 28 moving items 27 removing items 28 removing panels 28 using the notifications panel 27 using widgets 29 indicator icons 25 Internet 39 key functions 14 maps getting directions 45 searching for locations 44 searching for places nearby 46 sharing locations 43 using the navigation 45 memory card formatting 20 inserting 19 removing 20 memos creating 93 viewing 93 messages accessing voicemail 61 sending email 64 sending Google Mail 62 sending multimedia 61 sending text 60 viewing email 65 viewing Google Mail 63 viewing logs 56 viewing multimedia 61 viewing text 61 multiparty calls conference calls 53 music player 83 photo editor 80 photos editing 80 taking 68 viewing 78 Play Store 46 Polaris Office 112 power saving 18, 120 Samsung Apps 47 settings 116 silent mode 32 SIM USIM card inserting 15 locking 35 sound call ringtone 32 Index 145 se your device at refuelling points petrol stations , near fuels or chemicals, or in blasting areas. Do not store or carry flammable liquids, gases, or explosive materials in the same compartment as the device, its parts, or accessories. Safety information 135 ', 'range': {'to': 144, 'from': 134}, 'title': u'Safety information', 'ref': {'S': '/GoTo', 'D': 'p134', 'NewWindow': 'True'}, 'level': 1}, {'content': 'file manager 111 find my mobile 36 flight mode 21 gallery 78 Google 67 Google Latitude 43 Google Mail 62 Google Maps 44 Google Messenger 67 Google Talk 66 home screen adding panels 28 moving items 27 removing items 28 removing panels 28 using the notifications panel 27 using widgets 29 indicator icons 25 Internet 39 key functions 14 maps getting directions 45 searching for locations 44 searching for places nearby 46 sharing locations 43 using the navigation 45 memory card formatting 20 inserting 19 removing 20 memos creating 93 viewing 93 messages accessing voicemail 61 sending email 64 sending Google Mail 62 sending multimedia 61 sending text 60 viewing email 65 viewing Google Mail 63 viewing logs 56 viewing multimedia 61 viewing text 61 multiparty calls conference calls 53 music player 83 photo editor 80 photos editing 80 taking 68 viewing 78 Play Store 46 Polaris Office 112 power saving 18, 120 Samsung Apps 47 settings 116 silent mode 32 SIM USIM card inserting 15 locking 35 sound call ringtone 32 Index 145 ed by radio frequencies emitted by the device. If you use a hearing aid, contact the manufacturer for information about radio interference The radio frequency emitted by your device may interfere with some hearing aids. Before using your device, contact the manufacturer to determine whether or not your hearing aid will be affected by radio frequencies emitted by the device. Turn off the device in potentially explosive environments Always comply with regulations, instructions and signs in potentially explosive environments. Do not use your device at refuelling points petrol stations , near fuels or chemicals, or in blasting areas. Do not store or carry flammable liquids, gases, or explosive materials in the same compartment as the device, its parts, or accessories. Safety information 135 file manager 111 find my mobile 36 flight mode 21 gallery 78 Google 67 Google Latitude 43 Google Mail 62 Google Maps 44 Google Messenger 67 Google Talk 66 home screen adding panels 28 moving items 27 removing items 28 removing panels 28 using the notifications panel 27 using widgets 29 indicator icons 25 Internet 39 key functions 14 maps getting directions 45 searching for locations 44 searching for places nearby 46 sharing locations 43 using the navigation 45 memory card formatting 20 inserting 19 removing 20 memos creating 93 viewing 93 messages accessing voicemail 61 sending email 64 sending Google Mail 62 sending multimedia 61 sending text 60 viewing email 65 viewing Google Mail 63 viewing logs 56 viewing multimedia 61 viewing text 61 multiparty calls conference calls 53 music player 83 photo editor 80 photos editing 80 taking 68 viewing 78 Play Store 46 Polaris Office 112 power saving 18, 120 Samsung Apps 47 settings 116 silent mode 32 SIM USIM card inserting 15 locking 35 sound call ringtone 32 Index 145 se your device at refuelling points petrol stations , near fuels or chemicals, or in blasting areas. Do not store or carry flammable liquids, gases, or explosive materials in the same compartment as the device, its parts, or accessories. Safety information 135 ', 'range': {'to': 9999, 'from': 144}, 'title': u'Index', 'ref': {'S': '/GoTo', 'D': 'p144', 'NewWindow': 'True'}, 'level': 1}]



@app.route('/', methods=['GET'])
def hello_world():
    filename = './test/data/tablet.pdf'
    pdf = PDF(filename)
    result = pdf.get_summarised_data()
    pretty_text = pp.pformat(result)
    #return (pretty_text)
    return send_from_directory(directory='tmp', filename='HamesIM.pdf')

def save_file():
    if 'file' not in request.files:
        print('No file part')
        return 'No file part'
    file = request.files['file']

    # if user does not select file, browser also
    # submit a empty part without filename
    if file.filename == '':
        print('No selected file')
        return 'No selected file'
    print(file.filename)
    file.save(file.filename)
    return file.filename

def process_file_data(file_name, file_data):
    data_out_parts = []
    for chapter in file_data:
        keywords = DU.get_full_keywords_for_text(chapter['content'])
        summary = DU.get_summary_for_text(chapter['content'])
        pages = [chapter['range']['from'],chapter['range']['to']]
        line = {'name' : chapter['title'], 'description' : summary, 'keys' : keywords, 'pages' : pages}
        data_out_parts.append(line)
        print line
    return {'file' : file_name, 'parts' : data_out_parts}

@app.route('/upload', methods=['POST'])
def upload_file():
    # save file to the disk if it exists, otherwise return error
    save_success = save_file()
    if ('No file part' or 'No selected file') in save_success:
        return save_success

    #save_success = 'test/data/tablet.pdf'

    if 'tablet.pdf' in save_success:
        pdf = PDF('./'+save_success)
        result = pdf.get_summarised_data()
        return jsonify(process_file_data(save_success,result))
    else:
        return jsonify(process_file_data(save_success,json_file))


    '''
    with open('return_data.json') as data_file:
        data = json.load(data_file)
    return jsonify(data)
    '''

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=port)





